<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SORTING HAT:영화추천</title>
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="../static/head-bar.css" rel="stylesheet">

    <style>
        html, body {
            background-color: black;
            color:white;
            font-size:14px;
            width: 100%;
            height: 100%;
        }

        .section {
            width: 100%;
            height: 100%;
            position: relative;
            background-color: red;
        }

        .wrap-age {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);

            width:300px;
            height:300px;

            text-align: center;
        }
        .wrap-age > input {
            background-color: transparent;
            color:white;
            border-style: solid;
            border-radius: 5px;
            border-color: white;
        }

        .wrap-movie {
            width: 95%;
            height: 800px;
            margin-right: auto;
            margin-left: auto;
            text-align: center;
            padding-top: 80px;
        }

        .wrap-movie_1 {
            width: 100%;
            height: 350px;

            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: left;
        }

        .movies {
            width: 270px;
            height: 350px;
            background-color: white;
            margin-left: auto;
            margin-right: auto;
        }

    </style>

    <script>
        // START 기본 wheel 작동 중지
        window.addEventListener("wheel", function (e) {
            e.preventDefault();
        }, {passive: false});
        // END 기본 wheel 작동 중지

        // START Wheel 동작 입력받아 페이지 이동
        let mHtml = $("html");
        let page = 1;

        mHtml.animate({scrollTop: 0}, 10);

        $(window).on("wheel", function (e) {
            if (mHtml.is(":animated")) return;
            if (e.originalEvent.deltaY > 0) {
                if (page == 3) return;
                page++;
            } else if (e.originalEvent.deltaY < 0) {
                if (page == 1) return;
                page--;
            }
            var posTop = (page - 1) * $(window).height();
            mHtml.animate({scrollTop: posTop});
        })
        // END Wheel 동작 입력받아 페이지 이동

        // START AGE입력
        function enter_age(){
            if(event.keyCode=='13') {
                let val_age;
                val_age = document.getElementById('id_input_age').value;
                if(isNaN(val_age)){
                    alert('숫자로 입력해주세요.')
                }else{
                    $('#id_input_age').hide();
                    $('#id_age').text(val_age);
                }
            }
        }
        // END AGE입력

        // START 좋아하거나 관심있는 MOVIE 선택
        let arr_movies = [];
        arr_movies[0] = {
            name:'명량',
            genre: ['액션','드라마'],
            img_url: 'https://movie-phinf.pstatic.net/20140721_186/1405911310756Tt2X1_JPEG/movie_image.jpg'
        }
        arr_movies[1] = {
            name:'해리 포터와 마법사의 돌',
            genre: ['판타지','가족', '모험', '액션'],
            img_url: 'https://movie-phinf.pstatic.net/20181019_236/1539926790655oHv5z_JPEG/movie_image.jpg'
        }
        arr_movies[2] = {
            name:'타이타닉',
            genre: ['멜로/로맨스', '드라마'],
            img_url: 'https://movie-phinf.pstatic.net/20181129_107/1543452551390CN9TW_JPEG/movie_image.jpg'
        }
        arr_movies[3] = {
            name:'추격자',
            genre: ['범죄', '스릴러', '액션'],
            img_url: 'https://movie-phinf.pstatic.net/20111223_156/1324566721937R1fPE_JPEG/movie_image.jpg'
        }
        arr_movies[4] = {
            name:'인터스텔라',
            genre: ['SF'],
            img_url: 'https://movie-phinf.pstatic.net/20160106_138/1452044846608eaFcJ_JPEG/movie_image.jpg'
        }
        arr_movies[5] = {
            name:'극한직업',
            genre: ['코미디'],
            img_url: 'https://movie-phinf.pstatic.net/20190116_206/1547615429111dINWj_JPEG/movie_image.jpg'
        }
        arr_movies[6] = {
            name:'겨울왕국',
            genre: ['애니메이션', '모험', '코미디', '가족', '판타지', '뮤지컬'],
            img_url: 'https://movie-phinf.pstatic.net/20170418_82/1492496178995pHxdA_JPEG/movie_image.jpg'
        }
        arr_movies[7] = {
            name:'컨저링',
            genre: ['공포','스릴러'],
            img_url: 'https://movie-phinf.pstatic.net/20130902_93/1378099837014UAvor_JPEG/movie_image.jpg'
        }
        arr_movies[8] = {
            name:'기생충',
            genre: ['드라마'],
            img_url: 'https://movie-phinf.pstatic.net/20190528_36/1559024198386YVTEw_JPEG/movie_image.jpg'
        }
        arr_movies[9] = {
            name:'보헤미안 랩소디',
            genre: ['드라마'],
            img_url: 'https://movie-phinf.pstatic.net/20181213_264/1544692854634ss65r_JPEG/movie_image.jpg'
        }
        arr_movies[10] = {
            name:'어벤져스:엔드게임',
            genre: ['액션', 'SF'],
            img_url: 'https://movie-phinf.pstatic.net/20190417_250/1555465284425i6WQE_JPEG/movie_image.jpg'
        }
        arr_movies[11] = {
            name:'포레스트 검프',
            genre: ['드라마', '코미디'],
            img_url: 'https://movie-phinf.pstatic.net/20160901_187/1472711688297YP2jH_JPEG/movie_image.jpg'
        }

        for(let i=0; i < arr_movies.length; i++){
            console.log('dd')
        }
        // END 좋아하거나 관심있는 MOVIE 선택
    </script>
</head>
<body>
    <!-- START HEAD BAR -->
    <div class="head-bar">
        <h1>SORTING HAT</h1>
        <div class="hat-box"></div>
        <a href="recommend">영화추천</a>
        <a href="showing">현재상영작</a>
        <a href="schedule">상영예정작</a>
    </div>
    <!-- END HEAD BAR-->

    <!--START : 나이 질문 -->
    <div class="section" id="section_age">
        <div class="wrap-age">
            <p>나이를 입력해주세요.</p>
            <input type="text" maxlength="2" id="id_input_age" onkeyup="enter_age()">
            <p id="id_age"></p>
        </div>
    </div>
    <!--END : 나이 질문 -->

    <!--START : 좋아하는 영화 질문 -->
    <div class="section" id="section_movie">
        <div class="wrap-movie">
            <div class="wrap-movie_1">
                <div class="movies"></div>
                <div class="movies"></div>
                <div class="movies"></div>
                <div class="movies"></div>
                <div class="movies"></div>
                <div class="movies"></div>
            </div>
            <p>재미있게 본 혹은 관심있는 영화를 2개 선택해주세요.</p>
            <div class="wrap-movie_1">
                <div class="movies"></div>
                <div class="movies"></div>
                <div class="movies"></div>
                <div class="movies"></div>
                <div class="movies"></div>
                <div class="movies"></div>
            </div>
        </div>
    </div>
    <!--END : 좋아하는 영화 질문 -->

    <div class="section" id="section_with">섹션3</div>
</body>
</html>


